## **Про гру**

Жанр розробленої гри – покрокова Roquelike. Після кожних двох ходів героя хід надається ворогам. Головний герой – юнак Мадрон, який спускається в зачароване підземелля щоб знайти ліки для своєї коханої. На перепоні в нього стають полчища нежиті. Через &quot;благословіння&quot; богів після втрати енергії герой не помирає, а повертається назад на перший рівень. Ціль гри – спуститись якомога глибше.

Під час подорожі по підземеллю можна атакувати ворогів, а також відновлювати енергію підбираючи предмети.

У будь-який момент гру можна поставити на паузу.

## **Автоматичне створення рівнів підземелля**

Для гри потрібна наявність великої кількості рівнів, а також кожне проходження гри повине бути унікальним та цікавим, створення величезної кількості рівнів потребує занадто багато зусиль, тому наша команда вирішила генерувати їх автоматично.

При створеннях рівнів генеруються такі об&#39;єкти :

- Сама карта
- Перешкоди
- Вороги
- Серця (енергія)
- Портал

Детальніше про кожен пункт:

### **Генерація карти**

Генерація карти сладається з декількох послідовних процесів. Розмір карти – 10х10 клітинок. Вона оточена непрохідною стіною, тому герой може пересуватись по області 8х8 клітинок. Всі інші об&#39;єкти генеруються в центральній області розміром 6х6 (для того щоб завжди був шлях по якому можна пройти до порталу).

Для створення гарного фону кожна клітинка заповнюється випадковим спрайтом з доступного набору. Є окремі набори спрайтів для стін, перешкод, ворогів та сердець. Це дозволяє створювати гарні й унікальні рівні.

У Порталу є своя анімація, яка робить гру більш динамічною та живою.

### **Створення перешкод, ворогів, гравця, порталу, сердець**

В залежності від вказаних параметрів на карті випадковим чином розміщується певна кількість сердець та перешкод. Кількість ворогів зростає логарифмічно, залежно від рівня підземелля.

Перешкоди, вороги та серця генеруються лише в області 6х6 клітинок, тому в гравця завжди є шлях по якому можна добратись до порталу.

Гравець завжди з&#39;являється в нижньому лівому кутку, а портал – в правому верхньому.

Розміщення об&#39;єктів відбувається таким чином: спочатку з частини карти 6х6 клітинок вибираються випадкові для розміщення на них певної кількості сердець, потім у незайнятих клітинках розміщуються перешкоди, аналогічний крок з ворогами.

### **Проблеми та шляхи їх вирішення**

Однією з найголовніших проблем було створення унікальних рівнів з різною стилістикою, але вона була вирішена завдяки автоматичній генерації рівнів.

Ми можемо задавати різні набори спрайтів для того щоб легко і швидко змінювати дизайн картинок. Також при подальшій розробці гри нескладно буде змінювати самі розміри рівнів. Можна легко змінювати кількість генеруємих клітинок з сердечками та ворогами в залежності від обраного рівня складності.

### **Переваги та недоліки підходу**

**Переваги**

1. Не потрібно витрачати багато зусиль на створення багатьох рівнів.
2. Легко змінювати стилістистику рівнів.
3. Немає жодного обмеження на кількість рівнів, грати в таку гру завжди цікаво.

**Недоліки**

1. Генераціякартизаймаєпевнийчас, хочапокирозмірикартинезначні (наприклад 10х10) ценепомітно. Можна буде генерувати наступні рівні заздалегідь за необхідності.
2. Випадковість розвитку подій. Це можна розглядати одночасно і як перевагу, і як недолік. Немає єдиного вірного способу пройти якумога далі, інколи незалежно від вмінь гравця рівні можуть генеруватись дуже невдало. Це можна виправити додаючи статичний набір рівнів для змагань між гравцями.

## **Ігрові Об&#39;єкти**

Головним героєм цієї гри є юнак Мадрон. Він може переміщатись по карті, атакувати ворогів та знищувати перешкоди.

В класі Player зберігається основна характеристика головного персонажа: енергія, атака, тощо.

Для анімації дій Мадрона використовується компонент Animator. Цей компонент використовується для призначення анімації GameObject на сцені. Animator вимагає посилання на контролер Animator, який визначає які саме анімаційні кліпи використовувати та контролює коли і як їх поєднувати та здійснювати переходи між ними.

AnimatorController - Animator, створений в Unity, що дозволяє організувати та підтримувати набір анімацій для персонажа чи об&#39;єкта. _Контролер_ має посилання на анімаційні кліпи, що використовуються в ньому і керує різними станами анімації та переходами між ними за допомогою кінцевого автомата, який можна розглядати як своєрідну блок-схему.

На полі розкидані різні типи сердець. Кожен з них відновлює герою різну кількість енергії при підбиранні.
Для різних перешкод також можна задавати різну міцність, щоб деякі перешкоди можна було ламати за 1 хід, інші за декілька.

## **Вороги**

Ворогами головного героя різна нежить, ціль якої охороняти портали які ведуть до божественних ліків.

Як і у гравця, у ворогів також є свої анімації для пересування, бездіяльності, атаки.

Вороги пересуваються наступним чином – вони порівнюють свою позицію з позицією гравця, та намагаються йти до нього напролом, не обходячи перешкоди. Ми прийшли до такого рішення через те, що при додаванні кращої логіки пошуку шляхів гра ставала занадто складною, так як вороги постійно оточували гравця зі всіх сторін і вбивали його за декілька ходів.